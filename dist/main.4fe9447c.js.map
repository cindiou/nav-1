{"version":3,"sources":["main.js"],"names":["$lastItem","$","$siteList","nodes","JSON","parse","localStorage","getItem","url","urlPart","logo","logoType","getLogo","node","split","render","find","remove","forEach","index","before","judgeIsDelete","elem","nodeName","toLowerCase","classList","contains","splice","parentNode","dataset","click","e","target","container","children","undefined","window","open","prompt","reg","res","match","push","toUpperCase","alert","onbeforeunload","s","stringify","setItem","document","on","each","value","length","key"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,SAAS,GAAGC,CAAC,CAAC,SAAD,CAAnB;AACA,IAAMC,SAAS,GAAGD,CAAC,CAAC,WAAD,CAAnB;AAEA,IAAME,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,KAA+C,CAC3D;AACEC,EAAAA,GAAG,EAAE,sBADP;AAEEC,EAAAA,OAAO,EAAE,UAFX;AAGEC,EAAAA,IAAI,EAAE,uBAHR;AAIEC,EAAAA,QAAQ,EAAE;AAJZ,CAD2D,EAO3D;AACEH,EAAAA,GAAG,EAAE,0BADP;AAEEC,EAAAA,OAAO,EAAE,cAFX;AAGEC,EAAAA,IAAI,EAAE,sBAHR;AAIEC,EAAAA,QAAQ,EAAE;AAJZ,CAP2D,CAA7D;;AAeA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD,EAAU;AACxB,MAAIA,IAAI,CAACF,QAAL,KAAkB,MAAtB,EAA8B;AAC5B,WAAOE,IAAI,CAACH,IAAZ;AACD,GAFD,MAEO;AACL,+BAAoBG,IAAI,CAACH,IAAzB,mBAAsCG,IAAI,CAACJ,OAAL,CAAaK,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,CAAtC;AACD;AACF,CAND;;AAQA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACnBb,EAAAA,SAAS,CAACc,IAAV,CAAe,eAAf,EAAgCC,MAAhC;AACAd,EAAAA,KAAK,CAACe,OAAN,CAAc,UAACL,IAAD,EAAOM,KAAP,EAAiB;AAC7BnB,IAAAA,SAAS,CAACoB,MAAV,CACEnB,CAAC,4DAEmCY,IAAI,CAACL,GAFxC,6BAE4DW,KAF5D,wEAIWP,OAAO,CAACC,IAAD,CAJlB,2EAM6BA,IAAI,CAACJ,OANlC,kLADH;AAeD,GAhBD;AAiBD,CAnBD;;AAqBA,IAAMY,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD,EAAU;AAC9B,MACEA,IAAI,CAACC,QAAL,CAAcC,WAAd,OAAgC,KAAhC,IACAF,IAAI,CAACG,SAAL,CAAeC,QAAf,CAAwB,YAAxB,CAFF,EAGE;AACAvB,IAAAA,KAAK,CAACwB,MAAN,CAAaL,IAAI,CAACM,UAAL,CAAgBC,OAAhB,CAAwBV,KAArC,EAA4C,CAA5C;AACA,WAAO,IAAP;AACD;;AACD,SAAO,KAAP;AACD,CATD;;AAUAjB,SAAS,CAAC4B,KAAV,CAAgB,UAACC,CAAD,EAAO;AACrB,MAAIC,MAAM,GAAGD,CAAC,CAACC,MAAf;;AAEA,MAAIX,aAAa,CAACW,MAAD,CAAb,IAAyBX,aAAa,CAACW,MAAM,CAACJ,UAAR,CAA1C,EAA+D;AAC7Db,IAAAA,MAAM;AACP,GAFD,MAEO;AACL,WAAOiB,MAAM,CAACT,QAAP,CAAgBC,WAAhB,OAAkC,IAAzC,EAA+C;AAC7CQ,MAAAA,MAAM,GAAGA,MAAM,CAACJ,UAAhB;AACD;;AAED,QAAMK,SAAS,GAAGD,MAAM,CAACE,QAAP,CAAgB,CAAhB,CAAlB;;AAEA,QAAID,SAAS,CAACJ,OAAV,CAAkBV,KAAlB,KAA4BgB,SAAhC,EAA2C;AACzCC,MAAAA,MAAM,CAACC,IAAP,CAAYJ,SAAS,CAACJ,OAAV,CAAkBrB,GAA9B,EAAmC,OAAnC;AACD;AACF;AACF,CAhBD;AAkBAO,MAAM;AAENf,SAAS,CAAC8B,KAAV,CAAgB,UAACC,CAAD,EAAO;AACrB,MAAMvB,GAAG,GAAG4B,MAAM,CAACE,MAAP,CACV,YADU,EAEV,0BAFU,CAAZ;AAKA,MAAMC,GAAG,GAAG,0DAAZ;AACA,MAAMC,GAAG,GAAGhC,GAAG,CAACiC,KAAJ,CAAUF,GAAV,CAAZ,CAPqB,CASrB;;AAEA,MAAIC,GAAJ,EAAS;AACPrC,IAAAA,KAAK,CAACuC,IAAN,CAAW;AACTlC,MAAAA,GAAG,EAAEgC,GAAG,CAAC,CAAD,CADC;AAET/B,MAAAA,OAAO,EAAE+B,GAAG,CAAC,CAAD,CAAH,GAASA,GAAG,CAAC,CAAD,CAFZ;AAGT9B,MAAAA,IAAI,EAAE8B,GAAG,CAAC,CAAD,CAAH,CAAO,CAAP,EAAUG,WAAV,EAHG;AAIThC,MAAAA,QAAQ,EAAE;AAJD,KAAX;AAOAI,IAAAA,MAAM;AACP,GATD,MASO;AACL6B,IAAAA,KAAK,CAAC,WAAD,CAAL;AACD;AACF,CAvBD;;AAyBAR,MAAM,CAACS,cAAP,GAAwB,UAACd,CAAD,EAAO;AAC7B;AACA,MAAMe,CAAC,GAAG1C,IAAI,CAAC2C,SAAL,CAAe5C,KAAf,CAAV;AACAG,EAAAA,YAAY,CAAC0C,OAAb,CAAqB,SAArB,EAAgCF,CAAhC;AACD,CAJD,EAMA;;;AACA7C,CAAC,CAACgD,QAAD,CAAD,CAAYC,EAAZ,CAAe,UAAf,EAA2B,UAACnB,CAAD,EAAO;AAChC;AACA;AACA9B,EAAAA,CAAC,CAACkD,IAAF,CAAOhD,KAAP,EAAc,UAACgB,KAAD,EAAQiC,KAAR,EAAkB;AAC9B,QAAIA,KAAK,CAAC1C,IAAN,CAAW2C,MAAX,KAAsB,CAAtB,IAA2BD,KAAK,CAAC1C,IAAN,CAAWc,WAAX,OAA6BO,CAAC,CAACuB,GAA9D,EAAmE;AACjElB,MAAAA,MAAM,CAACC,IAAP,CAAYe,KAAK,CAAC5C,GAAlB,EAAuB,QAAvB;AACA,aAAO,KAAP;AACD;AACF,GALD;AAMD,CATD","file":"main.4fe9447c.js","sourceRoot":"..\\src","sourcesContent":["const $lastItem = $(\"li:last\");\r\nconst $siteList = $(\".siteList\");\r\n\r\nconst nodes = JSON.parse(localStorage.getItem(\"_nodes_\")) || [\r\n  {\r\n    url: \"https://www.acfun.cn\",\r\n    urlPart: \"acfun.cn\",\r\n    logo: \"./imgs/acfun-logo.png\",\r\n    logoType: \"image\",\r\n  },\r\n  {\r\n    url: \"https://www.bilibili.com\",\r\n    urlPart: \"bilibili.com\",\r\n    logo: \"./imgs/bili-logo.png\",\r\n    logoType: \"image\",\r\n  },\r\n];\r\n\r\nconst getLogo = (node) => {\r\n  if (node.logoType === \"text\") {\r\n    return node.logo;\r\n  } else {\r\n    return `<img src='${node.logo}' alt=${node.urlPart.split(\".\")[0]}.png />`;\r\n  }\r\n};\r\n\r\nconst render = () => {\r\n  $siteList.find(\"li:not(:last)\").remove();\r\n  nodes.forEach((node, index) => {\r\n    $lastItem.before(\r\n      $(\r\n        `<li>\r\n            <div class=\"site\" data-url=\"${node.url}\" data-index=\"${index}\">\r\n                <div class=\"logo\">\r\n                ${getLogo(node)}\r\n                </div>\r\n                <div class=\"link\">${node.urlPart}</div>\r\n                <svg class=\"icon icon-close\">\r\n                  <use xlink:href=\"#icon-close\"></use>\r\n                </svg>\r\n            </div>\r\n        </li>`\r\n      )\r\n    );\r\n  });\r\n};\r\n\r\nconst judgeIsDelete = (elem) => {\r\n  if (\r\n    elem.nodeName.toLowerCase() === \"svg\" &&\r\n    elem.classList.contains(\"icon-close\")\r\n  ) {\r\n    nodes.splice(elem.parentNode.dataset.index, 1);\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n$siteList.click((e) => {\r\n  let target = e.target;\r\n\r\n  if (judgeIsDelete(target) || judgeIsDelete(target.parentNode)) {\r\n    render();\r\n  } else {\r\n    while (target.nodeName.toLowerCase() !== \"li\") {\r\n      target = target.parentNode;\r\n    }\r\n\r\n    const container = target.children[0];\r\n\r\n    if (container.dataset.index !== undefined) {\r\n      window.open(container.dataset.url, \"_self\");\r\n    }\r\n  }\r\n});\r\n\r\nrender();\r\n\r\n$lastItem.click((e) => {\r\n  const url = window.prompt(\r\n    \"请输入您要添加的网址\",\r\n    \"格式：https://www.baidu.com\"\r\n  );\r\n\r\n  const reg = /^https?:\\/\\/(?:w{3}\\.)?([a-zA-Z0-9]+)(\\.[a-z]+)?[\\s\\S]*$/;\r\n  const res = url.match(reg);\r\n\r\n  // console.log(res);\r\n\r\n  if (res) {\r\n    nodes.push({\r\n      url: res[0],\r\n      urlPart: res[1] + res[2],\r\n      logo: res[1][0].toUpperCase(),\r\n      logoType: \"text\",\r\n    });\r\n\r\n    render();\r\n  } else {\r\n    alert(\"您输入的格式不正确\");\r\n  }\r\n});\r\n\r\nwindow.onbeforeunload = (e) => {\r\n  // location.reload(true);\r\n  const s = JSON.stringify(nodes);\r\n  localStorage.setItem(\"_nodes_\", s);\r\n};\r\n\r\n// 鼠标监听事件;\r\n$(document).on(\"keypress\", (e) => {\r\n  // console.log(e.key);\r\n  //获取键盘对象的键值，小写\r\n  $.each(nodes, (index, value) => {\r\n    if (value.logo.length === 1 && value.logo.toLowerCase() === e.key) {\r\n      window.open(value.url, \"_blank\");\r\n      return false;\r\n    }\r\n  });\r\n});\r\n"]}